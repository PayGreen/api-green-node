<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Users - Api Requests · API GREEN NODE</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="A User is the second part of your identity in our API (along with the Account). The access level of your User (Administrator, User) defines what kind of actions or the kind of data you can access."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Users - Api Requests · API GREEN NODE"/><meta property="og:type" content="website"/><meta property="og:url" content="https://github.com/PayGreen/api-green-node/"/><meta property="og:description" content="A User is the second part of your identity in our API (along with the Account). The access level of your User (Administrator, User) defines what kind of actions or the kind of data you can access."/><meta property="og:image" content="https://github.com/PayGreen/api-green-node/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://github.com/PayGreen/api-green-node/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/e-transparent-disque-vert.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&amp;display=swap"/><link rel="stylesheet" href="https://buttons.github.io/buttons.js"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/e-transparent-disque-blanc.ico" alt="API GREEN NODE"/><h2 class="headerTitleWithLogo">API GREEN NODE</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/#try" target="_self">Getting Started</a></li><li class="siteNavGroupActive"><a href="/docs/start-sdk" target="_self">Docs</a></li><li class=""><a href="https://github.com/PayGreen/api-green-node" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Setup Complete User Profile</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">First Api Requests</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/start-sdk">Import Sdk</a></li><li class="navListItem"><a class="navItem" href="/docs/authentication">Authentication</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Setup Complete User Profile</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/account">Account - Api Request</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/users-api-requests">Users - Api Requests</a></li><li class="navListItem"><a class="navItem" href="/docs/users-data">Users - Create Data</a></li><li class="navListItem"><a class="navItem" href="/docs/ibans-api-requests">Ibans - API Requests</a></li><li class="navListItem"><a class="navItem" href="/docs/ibans-data">Ibans - Create Data</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Transports</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/transports">Get Transports</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Carbon Footprints</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/carbon-api-requests">Carbon Footprints - API Requests</a></li><li class="navListItem"><a class="navItem" href="/docs/carbon-data">Create Paths &amp; Web Footprints</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Carbon Reports</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/carbon-reports-api-requests">Carbon Reports - Api Requests</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tools</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/tools">Helpful methods for handling API Requests &amp; Responses</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Users - Api Requests</h1></header><article><div><span><p>A User is the second part of your identity in our API (along with the Account). The access level of your User (Administrator, User) defines what kind of actions or the kind of data you can access.
By default, PayGreen will provide you an Account and an Administrator-level User.</p>
<h3><a class="anchor" aria-hidden="true" id="multiple-users-"></a><a href="#multiple-users-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multiple Users :</h3>
<p>One Account can have multiple Users attached to it. We have defined two level of Users for your convenience:
Administrator user level: which has access to all actions for your Account.
Simple User level: which has a more limited access (e.g. can't create other users).</p>
<h2><a class="anchor" aria-hidden="true" id="usergetall"></a><a href="#usergetall" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>user.getAll()</h2>
<ul>
<li>Get a list of users based on accountId, only Admin can see other users.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.user
        .getAll()
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>Api Response : the <code>_embedded</code> object inside API response contains an array of all users associated to your account.</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: {
        <span class="hljs-attr">_links</span>: { <span class="hljs-attr">self</span>: [<span class="hljs-built_in">Object</span>] },
        <span class="hljs-attr">_embedded</span>: { <span class="hljs-attr">user</span>: [<span class="hljs-built_in">Array</span>] },
        <span class="hljs-attr">total_items</span>: <span class="hljs-number">15</span>
    },
    <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="usergetone"></a><a href="#usergetone" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>user.getOne()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>userName</td><td><code>string</code></td><td>Optional, by default UserName used will be the one from identity, only Admin can use a specific UserName to get a different user of the company account</td></tr>
</tbody>
</table>
<ul>
<li>Get information about one user based on his Username.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.user
        .getOne(userName?)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        }};
</code></pre>
<ul>
<li>Api Response : the object inside API response contains all informations about the user requested.</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: {
        <span class="hljs-attr">username</span>: <span class="hljs-string">'paygreen'</span>,
        <span class="hljs-attr">firstname</span>: <span class="hljs-string">'Golade'</span>,
        <span class="hljs-attr">lastname</span>: <span class="hljs-string">'Larry'</span>,
        <span class="hljs-attr">publicname</span>: <span class="hljs-string">'Larry Golade - Paygreen'</span>,
        <span class="hljs-attr">createdAt</span>: <span class="hljs-string">'1576859744'</span>,
        <span class="hljs-attr">enabledAt</span>: <span class="hljs-string">'1576859744'</span>,
        <span class="hljs-attr">role</span>: <span class="hljs-string">'ADMIN'</span>,
        <span class="hljs-attr">accountId</span>: <span class="hljs-string">'paygreen'</span>,
        <span class="hljs-attr">_links</span>: { <span class="hljs-attr">self</span>: [<span class="hljs-built_in">Object</span>] }
    },
    <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="usercreate"></a><a href="#usercreate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>user.create()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>newUser</td><td><code>UserModel</code></td><td>Admin Only - object containing all new user information</td></tr>
</tbody>
</table>
<ul>
<li>Get object with new user created.</li>
<li>To create a new user, we highly recommend you to use our User Model Class to ensure full compatibility with the API. (especially for 'role' and 'country' that are specific formats). <a href="/docs/users-data">Try it here</a></li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.user
        .create(newUser)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response : the object inside API response contains all informations about the user created.</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: {
        <span class="hljs-attr">username</span>: <span class="hljs-string">'mc3165'</span>,
        <span class="hljs-attr">firstname</span>: <span class="hljs-string">'matthieu'</span>,
        <span class="hljs-attr">lastname</span>: <span class="hljs-string">'coulon'</span>,
        <span class="hljs-attr">publicname</span>: <span class="hljs-string">'mattmatt'</span>,
        <span class="hljs-attr">createdAt</span>: <span class="hljs-number">1587133482</span>,
        <span class="hljs-attr">enabledAt</span>: <span class="hljs-number">1587133482</span>,
        <span class="hljs-attr">role</span>: <span class="hljs-string">'ADMIN'</span>,
        <span class="hljs-attr">accountId</span>: <span class="hljs-string">'paygreen'</span>,
        <span class="hljs-attr">_links</span>: { <span class="hljs-attr">self</span>: [<span class="hljs-built_in">Object</span>] }
    },
    <span class="hljs-attr">status</span>: <span class="hljs-number">201</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="userupdate"></a><a href="#userupdate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>user.update()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>updatedUser</td><td><code>UserModel</code></td><td>Object containing all new user information</td></tr>
<tr><td>userName</td><td><code>string</code></td><td>Optional, by default UserName used will be the one from identity, only Admin can use a specific UserName to modify a different user of the company account</td></tr>
</tbody>
</table>
<ul>
<li>Get object with new data updated</li>
<li>To update an user, we highly recommend you to use our User Model Class to ensure full compatibility with the API. <a href="/docs/users-data">Try it here</a></li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.user
        .update(updatedUser, userName?)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response : the object inside API response contains all informations about the user updated.</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: {
        <span class="hljs-attr">username</span>: <span class="hljs-string">'mc3165'</span>,
        <span class="hljs-attr">firstname</span>: <span class="hljs-string">'jean'</span>,
        <span class="hljs-attr">lastname</span>: <span class="hljs-string">'coulon'</span>,
        <span class="hljs-attr">publicname</span>: <span class="hljs-string">'jeanjean'</span>,
        <span class="hljs-attr">createdAt</span>: <span class="hljs-string">'1587133482'</span>,
        <span class="hljs-attr">enabledAt</span>: <span class="hljs-string">'1587133482'</span>,
        <span class="hljs-attr">role</span>: <span class="hljs-string">'ADMIN'</span>,
        <span class="hljs-attr">accountId</span>: <span class="hljs-string">'paygreen'</span>,
        <span class="hljs-attr">_links</span>: { <span class="hljs-attr">self</span>: [<span class="hljs-built_in">Object</span>] }
    },
    <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="userdelete"></a><a href="#userdelete" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>user.delete()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>userName</td><td><code>string</code></td><td>Admin Only - to delete one user from the company account</td></tr>
</tbody>
</table>
<ul>
<li>Get response with status 204 if success.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.user
        .delete(userName)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: <span class="hljs-string">'user deleted successfully'</span>,
    <span class="hljs-attr">status</span>: <span class="hljs-number">204</span>,
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/account"><span class="arrow-prev">← </span><span>Account - Api Request</span></a><a class="docs-next button" href="/docs/users-data"><span>Users - Create Data</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#usergetall">user.getAll()</a></li><li><a href="#usergetone">user.getOne()</a></li><li><a href="#usercreate">user.create()</a></li><li><a href="#userupdate">user.update()</a></li><li><a href="#userdelete">user.delete()</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/start-sdk">First Api Request</a><a href="/docs/en/account">Set Up User Profile</a></div><div><h5>About Us</h5><a href="https://solidaire.paygreen.fr/documentation/green" target="_blank" rel="noreferrer noopener">ApiGreen by Paygreen</a><a href="https://www.paygreen.io/" target="_blank" rel="noreferrer noopener">Paygreen</a></div><div><h5>More</h5><a href="https://github.com/PayGreen/api-green-node" target="_blank">GitHub</a><a class="github-button" href="https://github.com/PayGreen/api-green-node" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Paygreen</section></footer></div></body></html>