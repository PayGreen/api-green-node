<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Carbon Estimate - API Requests · API GREEN NODE</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="If you have completed your profile you can now add and manage carbon offsetting estimate!"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Carbon Estimate - API Requests · API GREEN NODE"/><meta property="og:type" content="website"/><meta property="og:url" content="https://your-docusaurus-test-site.com/"/><meta property="og:description" content="If you have completed your profile you can now add and manage carbon offsetting estimate!"/><meta property="og:image" content="https://your-docusaurus-test-site.com/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://your-docusaurus-test-site.com/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/e-transparent-disque-vert.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&amp;display=swap"/><link rel="stylesheet" href="https://buttons.github.io/buttons.js"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/e-transparent-disque-blanc.ico" alt="API GREEN NODE"/><h2 class="headerTitleWithLogo">API GREEN NODE</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/#try" target="_self">Getting Started</a></li><li class="siteNavGroupActive"><a href="/docs/start-sdk" target="_self">Docs</a></li><li class=""><a href="https://github.com/PayGreen/api-green-node" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Carbon Estimate</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">First Api Requests</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/start-sdk">Import Sdk</a></li><li class="navListItem"><a class="navItem" href="/docs/authentication">Authentication</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Setup Complete User Profile</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/account">Account - Api Request</a></li><li class="navListItem"><a class="navItem" href="/docs/users-api-requests">Users - Api Requests</a></li><li class="navListItem"><a class="navItem" href="/docs/users-data">Users - Create Data</a></li><li class="navListItem"><a class="navItem" href="/docs/ibans-api-requests">Ibans - API Requests</a></li><li class="navListItem"><a class="navItem" href="/docs/ibans-data">Ibans - Create Data</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Transports</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/transports">Get Transports</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Carbon Estimate</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/carbon-api-requests">Carbon Estimate - API Requests</a></li><li class="navListItem"><a class="navItem" href="/docs/carbon-data">Create Paths &amp; Web Estimates</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Carbon Statistics</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/carbon-statistics-api-requests">Carbon Statistics - Api Requests</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tools</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/tools">Helpful methods for handling API Requests &amp; Responses</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Carbon Estimate - API Requests</h1></header><article><div><span><p>If you have completed your profile you can now add and manage carbon offsetting estimate!</p>
<p>Carbon offsetting estimate and carbon credits purchase are the heart of our API.
We have selected two kind of carbon offsetting estimations:</p>
<ul>
<li>web browsing or navigation (dependent on time, device type, number of images loaded, number of pages visited, etc.). For web browsing, we have other elements that are taken into account which are reduced to electrical consumption.</li>
<li>transport of persons or goods (dependent on weight, method of transport and the kind of energy used). With each transport type is associated an energy type and with each energy type is associated a carbon emission factor.</li>
<li>so you can easily estimate the carbon cost for the web browsing made by a user to shop a product and the carbon cost for the transport of this product to be delivered to consumer.</li>
<li>The main results are the carbon equivalent estimate (estimatedCarbon expressed in Tons of CO²eq) and the price estimate (estimatedPrice expressed in euro cents (100 = 1€)) for offsetting your carbon equivalent.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="carbonaddwebestimate"></a><a href="#carbonaddwebestimate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>carbon.addWebEstimate()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>newWebEstimate</td><td><code>WebEstimate</code></td><td>object containing all datas about the ongoing web carbon offsetting estimate - Only admin can add web estimate</td></tr>
</tbody>
</table>
<p>You can find details about how to build the object new WebEstimate <a href="carbon-data#web-estimate-">here.</a></p>
<ul>
<li>add object with new carbon cost estimated.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.carbon
        .addWebEstimate(newWebEstimate)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: <span class="hljs-string">'web estimate added successfully'</span>,
    <span class="hljs-attr">status</span>: <span class="hljs-number">201</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="carbonaddpathestimate"></a><a href="#carbonaddpathestimate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>carbon.addPathEstimate()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>newPathEstimate</td><td><code>PathEstimate</code></td><td>object containing all datas about the ongoing path carbon offsetting estimate - Only admin can add path estimate</td></tr>
</tbody>
</table>
<p>You can find details about how to build the object newPathEstimate <a href="carbon-data#path-estimate-">here.</a></p>
<ul>
<li>add object with new carbon cost estimated.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.carbon
        .addPathEstimate(newPathEstimate)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: <span class="hljs-string">'path estimate added successfully'</span>,
    <span class="hljs-attr">status</span>: <span class="hljs-number">201</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="carbongetestimate"></a><a href="#carbongetestimate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>carbon.getEstimate()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>fingerPrint</td><td><code>string</code></td><td>a unique name to identify each carbon offsetting estimate</td></tr>
</tbody>
</table>
<ul>
<li>get information about the ongoing carbon offsetting estimate.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.carbon
        .getEstimate(fingerprint)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: {
        <span class="hljs-attr">idAccount</span>: <span class="hljs-string">'yourAccountId'</span>,
        <span class="hljs-attr">idUser</span>: <span class="hljs-string">'12'</span>,
        <span class="hljs-attr">fingerprint</span>: <span class="hljs-string">'158711654547ccac1b310b'</span>,
        <span class="hljs-attr">estimatedCarbon</span>: <span class="hljs-string">'0.03191955'</span>,
        <span class="hljs-attr">estimatedPrice</span>: <span class="hljs-string">'22.343700408935547'</span>,
        <span class="hljs-attr">computedTime</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">createdAt</span>: <span class="hljs-number">1587127136</span>,
        <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">_links</span>: { <span class="hljs-attr">self</span>: [<span class="hljs-built_in">Object</span>] }
},
    <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="carboncompleteestimate"></a><a href="#carboncompleteestimate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>carbon.completeEstimate()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>fingerPrint</td><td><code>string</code></td><td>a unique name to identify each carbon offsetting estimate</td></tr>
</tbody>
</table>
<ul>
<li>get response with status 200 if success, the carbon estimate is validated. After completion, the estimate cannot be updated anymore.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.carbon
        .completeEstimate(fingerprint)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: <span class="hljs-string">'carbon estimate completed successfully'</span>,
    <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="carbondeleteestimate"></a><a href="#carbondeleteestimate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>carbon.deleteEstimate()</h2>
<table>
<thead>
<tr><th>Param</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>fingerPrint</td><td><code>string</code></td><td>a unique name to identify each carbon offsetting estimate</td></tr>
</tbody>
</table>
<ul>
<li>get response with status 204 if success, only ongoing estimate (before completion) can be deleted.</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">return</span> sdk.carbon
        .deleteEstimate(fingerprint)
        .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(res)
        });
</code></pre>
<ul>
<li>API Response</li>
</ul>
<pre><code class="hljs">{
    <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">dataInfo</span>: <span class="hljs-string">'carbon estimate deleted successfully'</span>,
    <span class="hljs-attr">status</span>: <span class="hljs-number">204</span>
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/transports"><span class="arrow-prev">← </span><span>Get Transports</span></a><a class="docs-next button" href="/docs/carbon-data"><span>Create Paths &amp; Web Estimates</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#carbonaddwebestimate">carbon.addWebEstimate()</a></li><li><a href="#carbonaddpathestimate">carbon.addPathEstimate()</a></li><li><a href="#carbongetestimate">carbon.getEstimate()</a></li><li><a href="#carboncompleteestimate">carbon.completeEstimate()</a></li><li><a href="#carbondeleteestimate">carbon.deleteEstimate()</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/start-sdk">First Api Request</a><a href="/docs/en/account">Set Up User Profile</a></div><div><h5>About Us</h5><a href="https://solidaire.paygreen.fr/documentation/green" target="_blank" rel="noreferrer noopener">ApiGreen by Paygreen</a><a href="https://www.paygreen.io/" target="_blank" rel="noreferrer noopener">Paygreen</a></div><div><h5>More</h5><a href="https://github.com/PayGreen/api-green-node" target="_blank">GitHub</a><a class="github-button" href="https://github.com/PayGreen/api-green-node" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Paygreen</section></footer></div></body></html>